{
    "version": "7.1",
    "screens": [
      {
        "id": "CHECKOUT",
        "title": "Complete Your Order",
        "terminal": false,
        "data": {
          "cart_summary": {
            "type": "string",
            "__example__": "Cart Summary:\n- Product 1 x 2 = ‚Çπ500\n- Product 2 x 1 = ‚Çπ300"
          },
          "total_amount": {
            "type": "string",
            "__example__": "800"
          },
          "currency": {
            "type": "string",
            "__example__": "INR"
          }
        },
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            {
              "type": "Form",
              "name": "checkout_form",
              "children": [
                {
                  "type": "TextHeading",
                  "text": "üõí Order Summary"
                },
                {
                  "type": "TextBody",
                  "text": "${data.cart_summary}"
                },
                {
                  "type": "TextSubheading",
                  "text": "üí∞ Total Amount:"
                },
                {
                    "type": "TextBody",
                    "text": "${data.total_amount}"
                  },
                {
                  "type": "TextSubheading",
                  "text": "üìã Your Information"
                },
                {
                  "type": "TextInput",
                  "name": "customer.name",
                  "label": "Full Name",
                  "required": true,
                  "input-type": "text"
                },
                {
                  "type": "TextInput",
                  "name": "customer.email",
                  "label": "Email Address",
                  "required": true,
                  "input-type": "email"
                },
                {
                  "type": "TextInput",
                  "name": "customer.mobile",
                  "label": "Mobile Number",
                  "required": true,
                  "input-type": "phone"
                },
                {
                  "type": "TextSubheading",
                  "text": "üì¶ Shipping Address"
                },
                {
                  "type": "TextInput",
                  "name": "address.line1",
                  "label": "Address Line",
                  "required": true,
                  "input-type": "text",
                  "helper-text": "e.g., No 1, Anna Street, Ganapathy Taluk"
                },
                {
                  "type": "TextInput",
                  "name": "address.city",
                  "label": "City",
                  "required": true,
                  "input-type": "text"
                },
                {
                  "type": "Dropdown",
                  "name": "address.state",
                  "label": "State",
                  "required": true,
                  "data-source": [
                    { "id": "TN", "title": "Tamil Nadu" },
                    { "id": "KA", "title": "Karnataka" },
                    { "id": "AP", "title": "Andhra Pradesh" },
                    { "id": "TS", "title": "Telangana" },
                    { "id": "KL", "title": "Kerala" },
                    { "id": "PY", "title": "Puducherry" },
                    { "id": "MH", "title": "Maharashtra" },
                    { "id": "GJ", "title": "Gujarat" },
                    { "id": "RJ", "title": "Rajasthan" },
                    { "id": "MP", "title": "Madhya Pradesh" },
                    { "id": "UP", "title": "Uttar Pradesh" },
                    { "id": "BR", "title": "Bihar" },
                    { "id": "WB", "title": "West Bengal" },
                    { "id": "OD", "title": "Odisha" },
                    { "id": "JH", "title": "Jharkhand" },
                    { "id": "CG", "title": "Chhattisgarh" },
                    { "id": "HR", "title": "Haryana" },
                    { "id": "PB", "title": "Punjab" },
                    { "id": "HP", "title": "Himachal Pradesh" },
                    { "id": "UT", "title": "Uttarakhand" },
                    { "id": "DL", "title": "Delhi" },
                    { "id": "AS", "title": "Assam" },
                    { "id": "AR", "title": "Arunachal Pradesh" },
                    { "id": "MN", "title": "Manipur" },
                    { "id": "ML", "title": "Meghalaya" },
                    { "id": "MZ", "title": "Mizoram" },
                    { "id": "NL", "title": "Nagaland" },
                    { "id": "SK", "title": "Sikkim" },
                    { "id": "TR", "title": "Tripura" },
                    { "id": "GA", "title": "Goa" },
                    { "id": "AN", "title": "Andaman and Nicobar Islands" },
                    { "id": "CH", "title": "Chandigarh" },
                    { "id": "DN", "title": "Dadra and Nagar Haveli" },
                    { "id": "DD", "title": "Daman and Diu" },
                    { "id": "JK", "title": "Jammu and Kashmir" },
                    { "id": "LA", "title": "Ladakh" },
                    { "id": "LD", "title": "Lakshadweep" }
                  ]
                },
                {
                  "type": "TextInput",
                  "name": "address.pincode",
                  "label": "Pincode",
                  "required": true,
                  "input-type": "number"
                },
                {
                  "type": "Footer",
                  "label": "Continue",
                  "on-click-action": {
                    "name": "navigate",
                    "next": {
                      "type": "screen",
                      "name": "DELIVERY_OPTIONS"
                    },
                    "payload": {
                      "customer": {
                        "name": "${form.customer\\.name}",
                        "email": "${form.customer\\.email}",
                        "mobile": "${form.customer\\.mobile}"
                      },
                      "address": {
                        "line1": "${form.address\\.line1}",
                        "city": "${form.address\\.city}",
                        "state": "${form.address\\.state}",
                        "pincode": "${form.address\\.pincode}"
                      }
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      {
        "id": "DELIVERY_OPTIONS",
        "title": "Delivery Options",
        "terminal": false,
        "data": {
          "customer": {
            "type": "object",
            "__example__": {
              "name": "John Doe",
              "email": "john.doe@email.com",
              "mobile": "+91 9876543210"
            }
          },
          "address": {
            "type": "object",
            "__example__": {
              "line1": "No 1, Anna Street, Ganapathy Taluk",
              "city": "Coimbatore",
              "state": "TN",
              "pincode": "641006"
            }
          }
        },
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            {
              "type": "Form",
              "name": "delivery_form",
              "children": [
                {
                  "type": "TextHeading",
                  "text": "üöö Choose Delivery Method"
                },
                {
                  "type": "RadioButtonsGroup",
                  "name": "delivery_type",
                  "label": "Delivery Options",
                  "required": true,
                  "data-source": [
                    {
                      "id": "ship",
                      "title": "üöö Ship to Address",
                      "description": "We'll deliver to your provided address"
                    },
                    {
                      "id": "pickup",
                      "title": "üè™ Pickup from Store",
                      "description": "Collect from our store (No delivery charges)"
                    }
                  ]
                },
                {
                  "type": "TextBody",
                  "text": "üìç Store Address for Pickup:\nNo: 18, Mani Nagar, Sivanandapuram, Saravanampatti",
                  "visible": false
                },
                {
                  "type": "Footer",
                  "label": "Continue",
                  "on-click-action": {
                    "name": "navigate",
                    "next": {
                      "type": "screen",
                      "name": "DISCOUNT_CODE"
                    },
                    "payload": {
                      "customer": {
                        "name": "${data.customer\\.name}",
                        "email": "${data.customer\\.email}",
                        "mobile": "${data.customer\\.mobile}"
                      },
                      "address": {
                        "line1": "${data.address\\.line1}",
                        "city": "${data.address\\.city}",
                        "state": "${data.address\\.state}",
                        "pincode": "${data.address\\.pincode}"
                      },
                      "delivery_type": "${form.delivery_type}"
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      {
        "id": "DISCOUNT_CODE",
        "title": "Discount Code",
        "terminal": false,
        "data": {
          "customer": {
            "type": "object",
            "__example__": {
              "name": "John Doe",
              "email": "john.doe@email.com",
              "mobile": "+91 9876543210"
            }
          },
          "address": {
            "type": "object",
            "__example__": {
              "line1": "No 1, Anna Street, Ganapathy Taluk",
              "city": "Coimbatore",
              "state": "TN",
              "pincode": "641006"
            }
          },
          "delivery_type": {
            "type": "string",
            "__example__": "ship"
          }
        },
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            {
              "type": "Form",
              "name": "discount_form",
              "children": [
                {
                  "type": "TextHeading",
                  "text": "üéüÔ∏è Discount Code"
                },
                {
                  "type": "TextBody",
                  "text": "Have a discount code? Enter it below to apply savings to your order."
                },
                {
                  "type": "TextInput",
                  "name": "discount_code",
                  "label": "Discount Code",
                  "required": false,
                  "input-type": "text",
                  "helper-text": "Leave blank if you don't have a discount code"
                },
                {
                  "type": "Footer",
                  "label": "Apply & Continue",
                  "on-click-action": {
                    "name": "navigate",
                    "next": {
                      "type": "screen",
                      "name": "ORDER_CONFIRMATION"
                    },
                    "payload": {
                      "customer": {
                        "name": "${form.customer.name}",
                        "email": "${form.customer.email}",
                        "mobile": "${form.customer.mobile}"
                      },
                      "address": {
                        "line1": "${form.address.line1}",
                        "city": "${form.address.city}",
                        "state": "${form.address.state}",
                        "pincode": "${form.address.pincode}"
                      },
                      "delivery_type": "${form.delivery_type}",
                      "discount_code": "${form.discount_code && form.discount_code !== '' ? form.discount_code : 'None applied'}",
                      "order_id": "ORD-${form.customer.mobile}",
                      "total_amount": "${data.total_amount}"
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      {
        "id": "ORDER_CONFIRMATION",
        "title": "Order Confirmed",
        "terminal": true,
        "success": true,
        "data": {
          "customer": {
            "type": "object",
            "__example__": {
              "name": "John Doe",
              "email": "john.doe@email.com",
              "mobile": "+91 9876543210"
            }
          },
          "address": {
            "type": "object",
            "__example__": {
              "line1": "No 1, Anna Street, Ganapathy Taluk",
              "city": "Coimbatore",
              "state": "TN",
              "pincode": "641006"
            }
          },
          "delivery_type": {
            "type": "string",
            "__example__": "ship"
          },
          "discount_code": {
            "type": "string",
            "__example__": "SAVE10"
          },
          "order_id": {
            "type": "string",
            "__example__": "ORD-123456"
          },
          "total_amount": {
            "type": "string",
            "__example__": "800"
          }
        },
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            {
              "type": "Form",
              "name": "confirmation_form",
              "children": [
                {
                  "type": "TextHeading",
                  "text": "üéâ Order Placed Successfully!"
                },
                {
                  "type": "TextBody",
                  "text": "Thank you! Your order has been successfully placed. Please proceed to payment to complete your purchase."
                },
                {
                  "type": "TextSubheading",
                  "text": "üí∞ Total Amount:"
                },
                {
                  "type": "TextSubheading",
                  "text": "‚Çπ${data.total_amount}"
                },
                {
                  "type": "TextBody",
                  "text": "You will receive a confirmation email shortly with your order details and payment instructions."
                },
                {
                  "type": "Footer",
                  "label": "Close",
                  "on-click-action": {
                    "name": "complete",
                    "payload": {
                      "customer": {
                        "name": "${data.customer\\.name}",
                        "email": "${data.customer\\.email}",
                        "mobile": "${data.customer\\.mobile}"
                      },
                      "address": {
                        "line1": "${data.address\\.line1}",
                        "city": "${data.address\\.city}",
                        "state": "${data.address\\.state}",
                        "pincode": "${data.address\\.pincode}"
                      },
                      "delivery_type": "${data.delivery_type}",
                      "discount_code": "${form.discount_code && form.discount_code !== '' ? form.discount_code : 'None applied'}",
                      "order_id": "ORD-${data.customer\\.mobile}",
                      "total_amount": "${data.total_amount}"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    ]
  }